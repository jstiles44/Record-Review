{"ast":null,"code":"var _jsxFileName = \"/Users/jacobstiles/general_assembly/sei/sapphire/unit_4/projects/Record-Review/client/src/screens/AlbumDetails.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { postReview } from '../services/reviews';\nimport { getOneAlbum } from '../services/albums';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AlbumDetails(props) {\n  _s();\n\n  const [albumItem, setAlbumItem] = useState(null);\n  const [selectedReview, setSelectedReview] = useState('');\n  const {\n    id\n  } = useParams();\n  const {\n    reviews\n  } = props;\n  useEffect(() => {\n    const fetchAlbumItem = async () => {\n      const albumData = await getOneAlbum(id);\n      setAlbumItem(albumData);\n    };\n\n    fetchAlbumItem();\n  }, []);\n\n  const handleChange = e => {\n    const {\n      value\n    } = e.target;\n    setSelectedReview(value);\n  };\n\n  const handleSubmit = async () => {\n    const albumData = await postReview(id, selectedReview);\n    setAlbumItem(albumData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: albumItem === null || albumItem === void 0 ? void 0 : albumItem.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), albumItem === null || albumItem === void 0 ? void 0 : albumItem.reviews.map(review => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: review\n    }, review.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        handleSubmit();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleChange,\n        defaultValue: \"default\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"default\",\n          disabled: true,\n          children: \"-- Select a flavor --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), flavors.map(flavor => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: flavor.id,\n          children: flavor.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AlbumDetails, \"FmXAISjtjxImrVfMZfVWHm11VtE=\", false, function () {\n  return [useParams];\n});\n\n_c = AlbumDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"AlbumDetails\");","map":{"version":3,"sources":["/Users/jacobstiles/general_assembly/sei/sapphire/unit_4/projects/Record-Review/client/src/screens/AlbumDetails.jsx"],"names":["useState","useEffect","useParams","postReview","getOneAlbum","AlbumDetails","props","albumItem","setAlbumItem","selectedReview","setSelectedReview","id","reviews","fetchAlbumItem","albumData","handleChange","e","value","target","handleSubmit","title","map","review","preventDefault","flavors","flavor","name"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,UAAT,QAA2B,qBAA3B;AACA,SAASC,WAAT,QAA4B,oBAA5B;;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAC1C,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACS,cAAD,EAAiBC,iBAAjB,IAAsCV,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM;AAAEW,IAAAA;AAAF,MAAST,SAAS,EAAxB;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAcN,KAApB;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMY,cAAc,GAAG,YAAY;AACjC,YAAMC,SAAS,GAAG,MAAMV,WAAW,CAACO,EAAD,CAAnC;AACAH,MAAAA,YAAY,CAACM,SAAD,CAAZ;AACD,KAHD;;AAIAD,IAAAA,cAAc;AACf,GANQ,EAMN,EANM,CAAT;;AAQA,QAAME,YAAY,GAAIC,CAAD,IAAO;AAC1B,UAAM;AAAEC,MAAAA;AAAF,QAAYD,CAAC,CAACE,MAApB;AACAR,IAAAA,iBAAiB,CAACO,KAAD,CAAjB;AACD,GAHD;;AAKA,QAAME,YAAY,GAAG,YAAY;AAC/B,UAAML,SAAS,GAAG,MAAMX,UAAU,CAACQ,EAAD,EAAKF,cAAL,CAAlC;AACAD,IAAAA,YAAY,CAACM,SAAD,CAAZ;AACD,GAHD;;AAKA,sBACE;AAAA,4BACE;AAAA,gBAAKP,SAAL,aAAKA,SAAL,uBAAKA,SAAS,CAAEa;AAAhB;AAAA;AAAA;AAAA;AAAA,YADF,EAEGb,SAFH,aAEGA,SAFH,uBAEGA,SAAS,CAAEK,OAAX,CAAmBS,GAAnB,CAAuBC,MAAM,iBAC5B;AAAA,gBAAoBA;AAApB,OAAQA,MAAM,CAACX,EAAf;AAAA;AAAA;AAAA;AAAA,YADD,CAFH,eAKE;AAAM,MAAA,QAAQ,EAAGK,CAAD,IAAO;AACrBA,QAAAA,CAAC,CAACO,cAAF;AACAJ,QAAAA,YAAY;AACb,OAHD;AAAA,8BAIE;AAAQ,QAAA,QAAQ,EAAEJ,YAAlB;AAAgC,QAAA,YAAY,EAAC,SAA7C;AAAA,gCACE;AAAQ,UAAA,KAAK,EAAC,SAAd;AAAwB,UAAA,QAAQ,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGS,OAAO,CAACH,GAAR,CAAYI,MAAM,iBACjB;AAAQ,UAAA,KAAK,EAAEA,MAAM,CAACd,EAAtB;AAAA,oBAA2Bc,MAAM,CAACC;AAAlC;AAAA;AAAA;AAAA;AAAA,gBADD,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD;;GA5CuBrB,Y;UAGPH,S;;;KAHOG,Y","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { postReview } from '../services/reviews';\nimport { getOneAlbum } from '../services/albums';\n\nexport default function AlbumDetails(props) {\n  const [albumItem, setAlbumItem] = useState(null);\n  const [selectedReview, setSelectedReview] = useState('');\n  const { id } = useParams();\n  const { reviews } = props;\n\n  useEffect(() => {\n    const fetchAlbumItem = async () => {\n      const albumData = await getOneAlbum(id);\n      setAlbumItem(albumData);\n    }\n    fetchAlbumItem()\n  }, [])\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    setSelectedReview(value)\n  }\n\n  const handleSubmit = async () => {\n    const albumData = await postReview(id, selectedReview);\n    setAlbumItem(albumData);\n  }\n\n  return (\n    <div>\n      <h3>{albumItem?.title}</h3>\n      {albumItem?.reviews.map(review => (\n        <p key={review.id}>{review}</p>\n      ))}\n      <form onSubmit={(e) => {\n        e.preventDefault()\n        handleSubmit()\n      }}>\n        <select onChange={handleChange} defaultValue='default'>\n          <option value='default' disabled>-- Select a flavor --</option>\n          {flavors.map(flavor => (\n            <option value={flavor.id}>{flavor.name}</option>\n          ))}\n        </select>\n        <button>add</button>\n      </form>\n    </div>\n  )\n}"]},"metadata":{},"sourceType":"module"}